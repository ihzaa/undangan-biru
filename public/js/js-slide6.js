var splide,tickAuto,canSliding=!0,onSwipe=!1,alreadyReload=!1;$(document).ready(function(){(splide=new Splide(".splide-menu",{perPage:5,focus:"center",pagination:!1,arrows:!1})).mount(),splide.on("click",function(e){var t=e.index;translate=-100*t,slideTo(-100*t),splide.go(t),clearInterval(tickAuto),tickAuto=window.setInterval(ticker,8e3)}),splide.on("active",function(e){e.index;var t=e.slide.querySelector("p");t.style.color="#000",t.style.fontSize="13px",doAnimation(t.getAttribute("id"))}),splide.on("inactive",function(e){e.index;var t=e.slide.querySelector("p");t.style.color="#828282",t.style.fontSize="11px"}),splide.on("dragged",function(){slideTo(-100*(draggedIndex=splide.index)),clearInterval(tickAuto),tickAuto=window.setInterval(ticker,8e3),setTimeout(function(){canSliding=!0},500)}),splide.on("dragging",function(){canSliding=!1})}),$("#galleryGrid").justifiedGallery({rowHeight:180,lastRow:"nojustify",margins:3}),$("#music_1").click(function(){var e=$("#playAudio").prop("muted");$("#playAudio").prop("muted",!e)});var ticker=function(){autoPilot&&(translate>maxTranslate?slide("next"):(slideTo(0),splide.go(0)))},autoPilot=!0;const pages=document.querySelectorAll(".page1"),translateAmount=100;var numItems=$(".page1").length;const maxTranslate=-100*numItems+100;let translate=0;function goToSlideId(e){var t=document.querySelector("."+e),a=t.id;if(t){var n=a.slice(-2);splide.go(n-1),slideTo(-((n-1)*100))}"li-mn-rsvp"==e&&($("#menu_auto_scroll").css("background-color","#4970ea"),autoPilot=!1,$("#notif_scroll1").hide(),$("#tutorial-swipe").show())}slide=e=>{startAnimHide(),setTimeout(function(){"next"===e?translate-=100:translate+=100,pages.forEach(e=>{e.style.transform=`translateY(${translate}%)`,slideIndex=-(translate/100*1),splide.go(slideIndex)}),doAnimation(slideIndex),clearInterval(tickAuto),tickAuto=window.setInterval(ticker,8e3)},800)},slideTo=e=>{startAnimHide(),setTimeout(function(){translate=e,pages.forEach(e=>e.style.transform=`translateY(${translate}%)`),doAnimation(slideIndex=-(translate/100*1)),clearInterval(tickAuto),tickAuto=window.setInterval(ticker,8e3)},800)},$(".ucapan-slide-close").on("click",function(){closeEditModal("ucapan-slide")});let touchstartX=0,touchendX=0;function checkDirection(){var e=touchstartX-touchendX;if(e<0&&(e*=-1),e<80)return!1;onSwipe=!0,setTimeout(function(){onSwipe=!1},1e3),canSliding&&(touchendX<touchstartX&&(translate>maxTranslate?!1==autoPilot?slide("next"):showNotifScroll():(slideTo(0),splide.go(0)),$("#tutorial-swipe").hide()),touchendX>touchstartX&&(translate<0&&(!1==autoPilot?slide("previous"):showNotifScroll()),$("#tutorial-swipe").hide()))}var allPages=document.querySelector(".pages1");function showNotifScroll(){0==$("#notif-scroll").length&&($("#splide").before('<div id="notif-scroll" style="bottom: 70px;opacity:0;background-color: #292929;position: fixed;right: 80px;font-size: 10px;padding: 5px;border-radius: 5px;color: #fff;">Matikan fitur auto scroll untuk melakukan manual scroll \uD83D\uDC49</div>'),anime({targets:"#notif-scroll",translateX:20,opacity:1,duration:800,easing:"easeInOutQuad"}),setTimeout(function(){$("#notif-scroll").remove()},5e3))}function showMusic(){$("#menu-music-cont").toggle()}function runAutoScroll(){tickAuto=window.setInterval(ticker,8e3)}function startAnimHide(){$(".pojok-kiri-atas1").removeClass("goyang-1"),$(".kanan-bawah").removeClass("goyang-12"),anime({targets:".pojok-kiri-atas1",translateY:-180,opacity:0,easing:"easeInOutQuad",duration:500}),setTimeout(function(){anime({targets:".pojok-kiri-atas1",translateY:0,opacity:1,duration:2e3,easing:"easeInOutQuad"})},2e3),setTimeout(function(){$(".pojok-kiri-atas1").addClass("goyang-1")},2500),anime({targets:".kanan-bawah",translateY:170,opacity:0,easing:"easeInOutQuad",duration:500}),setTimeout(function(){anime({targets:".kanan-bawah",translateY:0,opacity:1,duration:2e3,easing:"easeInOutQuad"})},2e3),setTimeout(function(){$(".kanan-bawah").addClass("goyang-12")},2500),anime({targets:".tengah-atas",translateY:170,opacity:0,easing:"easeInOutQuad",duration:800}),setTimeout(function(){anime({targets:".tengah-atas",translateY:0,opacity:1,duration:1300,easing:"easeInOutQuad"})},2e3),anime({targets:".tengah-bawah",translateY:-170,opacity:0,easing:"easeInOutQuad",duration:800}),setTimeout(function(){anime({targets:".tengah-bawah",translateY:0,opacity:1,duration:1300,easing:"easeInOutQuad"})},2e3),anime({targets:".tengah-kiri",translateX:-170,opacity:0,easing:"easeInOutQuad",duration:800}),setTimeout(function(){anime({targets:".tengah-kiri",translateX:0,opacity:1,duration:1300,easing:"easeInOutQuad"})},2e3),anime({targets:".tengah-kanan",translateX:170,opacity:0,easing:"easeInOutQuad",duration:800}),setTimeout(function(){anime({targets:".tengah-kanan",translateX:0,opacity:1,duration:1300,easing:"easeInOutQuad"})},2e3),anime({targets:".tengah-zoom",scaleX:0,scaleY:0,opacity:0,easing:"easeInOutQuad",duration:800}),setTimeout(function(){anime({targets:".tengah-zoom",scaleX:1,scaleY:1,opacity:1,duration:1300,easing:"easeInOutQuad"})},2e3)}function kembali(){}allPages.addEventListener("touchstart",e=>{touchstartX=e.changedTouches[0].screenY}),allPages.addEventListener("touchend",e=>{touchendX=e.changedTouches[0].screenY,checkDirection()}),$("#auto_scroll1").on("click",function(e){e.preventDefault(),autoPilot?($("#menu_auto_scroll").css("background-color","#4970ea"),autoPilot=!1,$("#notif_scroll1").hide(),$("#tutorial-swipe").show()):(autoPilot=!0,$("#menu_auto_scroll").css("background-color","transparent"),$("#notif_scroll1").show(),$("#tutorial-swipe").hide())});var opened=!1;function toggleFullScreen(e){(void 0===document.fullScreenElement||null!==document.fullScreenElement)&&(void 0===document.msFullscreenElement||null!==document.msFullscreenElement)&&(void 0===document.mozFullScreen||document.mozFullScreen)&&(void 0===document.webkitIsFullScreen||document.webkitIsFullScreen)?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()}function next(){splide.go(">"),translate=Math.max(translate-100,maxTranslate),pages.forEach(e=>{e.style.transform=`translateY(${translate}%)`}),clearInterval(tickAuto)}function prev(){splide.go("<"),translate=Math.min(translate+100,0),pages.forEach(e=>{e.style.transform=`translateY(${translate}%)`}),clearInterval(tickAuto)}$(".awal1").on("click",function(){if(!opened){opened=!0;let e=searchParams.get("kpd");$("#konfir_nama").val(e),$("#playAudio").get(0).play(),runAutoScroll(),slide("next"),$("#buka-undangan").hide(),toggleFullScreen(document.body),$("#menu_btn_1").show(),$("#img-kado-buka").show(),$("#btn_open").hide();let t=document.getElementById("playAudio");document.addEventListener("visibilitychange",function(){document.hidden?t.pause():t.paused&&t.play()})}});